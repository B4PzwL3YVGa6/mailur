<div v-class="header: 1, labels-show: labels_edit">
    <form v-if="!labels_edit" class="search-form" v-on="submit: search">
        <input type="text" v-model="search_query">
        <button type="submit" class="search"></button>
    </form>
    <div class="labels">
        <button v-on="click: showSearch" class="labels-b-search" title="Show search bar"></button>
        <button v-on="click: archive" class="labels-b-arch" title="Archive"></button>
        <button v-if="showTrash" v-on="click: del" class="labels-b-del" title="Delete"></button>
        <button v-if="showSpam" v-on="click: spam" class="labels-b-spam" title="Spam"></button>
        <button v-on="click: merge" class="labels-b-merge" title="Merge threads to one"></button>

        <div class="labels-edit">
        <a v-repeat="labels_sel" v-on="click: go" href="{{$value | labelUrl}}" class="label">
            {{$value}}
            <span  v-on="click: mark('-', $value, $event)" class="label-del" title="Delete"></span>
        </a>
        <button class="labels--edit" title="Edit labels"></button>
        </div>
        <div v-if="labels_sel" class="labels-input">
            <span><input/></span>
            <button class="labels--ok"></button>
            <button class="labels--cancel"></button>
        </div>
    </div>
</div>
<div class="nav-info">
    <img class="nav-pic" src="{{image}}">
    <div v-if="username" class="nav-user">
        {{username}}
        (<span v-if="email">{{email}}</span><a v-if="!email" href="/api/gmail/">connect</a>)
    </div>
    <div v-if="last_sync" class="nav-last-sync">Last sync at {{last_sync}}</div>
    <div v-on="click: logout" class="nav-logout" title="Logout"></div>
</div>
<div class="sidebar">
    <ul class="font-size">
        <li v-on="click: showHelp" class="nav-help" title="Keyboard shortcut help"></li>
        <li v-on="click: fontSize('normal')" class="font-size-normal" title="Normal fonr size"></li>
        <li v-on="click: fontSize('bigger')" class="font-size-bigger" title="Bigger font size"></li>
    </ul>

    <a v-if="email" href="/compose/new/" v-on="click: go" class="compose-new">Compose</a>
    <template v-if="labels">
    <ul class="labels">
    <li v-repeat="labels.items">
        <a href="{{url}}" v-on="click: go" v-class="label-unread: unread">
            <span class="label-count">{{unread}}</span>{{name}}
        </a>
    </li>
    </ul>
    </template>
</div>
<div v-if="show_help" class="help">
    <h3>
        Keyboard shortcuts
        <a v-on="click: closeHelp" class="help-close" title="Close">X</a>
    </h3>
    {{{help}}}
</div>
<div v-if="errors.length" class="errors">
    <a v-on="click: closeErrors" class="errors-close" title="Close">X</a>
    <div v-repeat="errors" class="error">{{$value}}</div>
</div>
